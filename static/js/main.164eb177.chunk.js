(this.webpackJsonp207_project=this.webpackJsonp207_project||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},37:function(e,t,a){},38:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(29),o=a.n(r),c=(a(37),a(38),a(1)),i=a(13),l=a(4),m=a(5),u=a(7),d=a(6),h=a(11),p=a(3),g=a.n(p),E=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={name:"",comment:""},n.state={name:n.props.comment.name,comment:n.props.comment.comment},n}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"card-header has-background-light margin-comment"},s.a.createElement("label",{className:"label margin-l"},"@",this.state.name)," : ",this.state.comment))}}]),a}(s.a.Component),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={_uid:"",_id:"",_pid:"",name:"",token:"",detail:"",goods:[],comments:[],gooded:!1,comment:""},n.onGood=function(e){e.preventDefault();var t={user:{_id:n.state._uid}};g.a.post("https://project-207.herokuapp.com/transactions/good/".concat(n.state._id),t,{headers:{Authorization:"Bearer ".concat(n.state.token)}}).then((function(e){n.setState({goods:e.data.user.goods,gooded:!n.state.gooded})})).catch((function(e){return console.log(e)}))},n.onChange=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(h.a)({},a,s))},n.onComment=function(e){e.preventDefault();var t={comment:n.state.comment};g.a.post("https://project-207.herokuapp.com/transactions/comment/".concat(n.state._id),t,{headers:{Authorization:"Bearer ".concat(n.state.token)}}).then((function(e){n.setState({comments:e.data.comments})})).catch((function(e){return console.log(e)}))},n.onDel=function(e){e.preventDefault();var t={user:{_id:n.state._uid}};g.a.delete("https://project-207.herokuapp.com/transactions/".concat(n.state._id),{headers:{Authorization:"Bearer ".concat(n.state.token)}},t).then((function(e){return s.a.createElement(i.a,{to:{pathname:"/",state:{res:e}}})})).catch((function(e){return console.log(e.message)}))},n.comment=function(e){return e.target.comment.focus()},n.props&&(n.state={_uid:n.props._uid,_id:n.props.sharing._id,_pid:n.props.sharing._uid,name:n.props.sharing.name,detail:n.props.sharing.detail,goods:n.props.sharing.goods,comments:n.props.sharing.comments,token:n.props.token}),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;1===this.state.goods.filter((function(t){return t._uid===e.state._uid})).length&&this.setState({gooded:!0})}},{key:"render",value:function(){return this.state.detail?this.state._pid===this.state._uid?s.a.createElement("div",{name:"id",value:this.state._id,className:"margin-bottom"},s.a.createElement("div",{className:"card margin-lr margin-top"},s.a.createElement("header",{className:"card-header has-background-grey-lighter"},s.a.createElement("p",{className:"card-header-title"},"@",this.state.name)),s.a.createElement("div",{className:"card-content has-background-white-ter"},s.a.createElement("div",{className:"content"},this.state.detail,s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("p",{className:"goods"},this.state.goods.length," ",this.state.gooded?"(You)":""," good(s)"))),s.a.createElement("footer",{className:"card-footer"},s.a.createElement("button",{onClick:this.onGood,className:"button is-link is-light is-fullwidth"},"Good"),s.a.createElement("button",{onClick:this.comment,className:"button is-link is-light is-fullwidth"},"Comment"),s.a.createElement("button",{onClick:this.onDel,className:"button is-light is-danger is-fullwidth"},"Delete")),s.a.createElement("footer",{className:"card-footer"},s.a.createElement("input",{className:"input is-rounded margin-input",name:"comment",type:"text",placeholder:"Comment",onChange:this.onChange}),s.a.createElement("button",{className:"button is-rounded is-link margin-tb",onClick:this.onComment},"comment")),this.state.comments.map((function(e){return s.a.createElement(E,{comment:e})})))):s.a.createElement("div",{id:this.state._id},s.a.createElement("div",{className:"card margin-lr margin-top "},s.a.createElement("header",{className:"card-header has-background-grey-lighter"},s.a.createElement("p",{className:"card-header-title"},"@",this.state.name)),s.a.createElement("div",{className:"card-content has-background-white-ter"},s.a.createElement("div",{className:"content"},this.state.detail,s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("p",{className:"goods"},this.state.goods.length," ",this.state.gooded?"(You)":""," good(s)"))),s.a.createElement("footer",{className:"card-footer"},s.a.createElement("button",{onClick:this.onGood,className:"button is-link is-light is-fullwidth"},"Good"),s.a.createElement("button",{onClick:this.comment,className:"button is-link is-light is-fullwidth"},"Comment")),s.a.createElement("footer",{className:"card-footer"},s.a.createElement("input",{className:"input is-rounded margin-input",name:"comment",type:"text",placeholder:"Comment",onChange:this.onChange}),s.a.createElement("button",{className:"button is-rounded is-link margin-tb",onClick:this.onComment},"comment")),this.state.comments.map((function(e){return s.a.createElement(E,{key:e._id,comment:e})})))):s.a.createElement("div",null)}}]),a}(s.a.Component),b=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={token:"",name:"",email:"",password:"",name_c:"",password_c:""},n.onChange=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(h.a)({},a,s))},n.onSubmitPassChange=function(e){e.preventDefault();var t={password:n.state.password_c};g.a.put("https://project-207.herokuapp.com/users/password",t,{headers:{Authorization:"Bearer ".concat(n.state.token)}}).then((function(){n.setState({password_c:""}),alert(".:Change password completed:.")})).catch((function(e){return alert(e)}))},n.onSubmitNameChange=function(e){e.preventDefault();var t={name:n.state.name_c};g.a.put("https://project-207.herokuapp.com/users/name",t,{headers:{Authorization:"Bearer ".concat(n.state.token)}}).then((function(e){n.setState({name:e.data.name,name_c:""}),alert(".:Change name completed:.")})).catch((function(e){return alert(e)}))},n.logout=function(){var e={token:n.state.token};g.a.post("https://project-207.herokuapp.com/users/logout",e,{headers:{Authorization:"Bearer ".concat(n.state.token)}}).then((function(){n.setState({token:"",name:"",email:"",password:""}),alert(".:logout successful:.")})).catch((function(e){return console.log(e)}))},n.state={token:n.props.token,name:n.props.name,email:"",password:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.props.token?s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar is-black",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-brand"}),s.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},s.a.createElement("div",{className:"navbar-start margin-left"},s.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},s.a.createElement("div",{className:"navbar-link is-arrowless margin-right bg-right"},"@",this.state.name),s.a.createElement("div",{className:"navbar-dropdown"},s.a.createElement("div",{className:"navbar-item"},"Change username"),s.a.createElement("form",{className:"navbar-item",onSubmit:this.onSubmitNameChange},s.a.createElement("div",null,s.a.createElement("input",{className:"input is-rounded",name:"name_c",type:"text",value:this.state.name_c,placeholder:"username",onChange:this.onChange}),s.a.createElement("br",null),s.a.createElement("button",{className:"button is-rounded is-link margin-input"},"Change"))),s.a.createElement("hr",{className:"dropdown-divider"}),s.a.createElement("div",{className:"navbar-item"},"Change password"),s.a.createElement("form",{className:"navbar-item",onSubmit:this.onSubmitPassChange},s.a.createElement("div",null,s.a.createElement("input",{className:"input is-rounded",name:"password_c",value:this.state.password_c,type:"password",placeholder:"password",onChange:this.onChange}),s.a.createElement("br",null),s.a.createElement("button",{className:"button is-rounded is-link margin-input"},"Change"))),s.a.createElement("hr",{className:"navbar-divider has-background-danger"}),s.a.createElement(c.b,{className:"navbar-item",to:"/login",onClick:this.logout},"Logout")))),s.a.createElement("div",{className:"navbar-end"},s.a.createElement(c.b,{className:"navbar-item",to:{pathname:"/",state:{token:this.state.token,name:this.state.name}}},s.a.createElement("h1",{className:"logo-type"},"Sharing")),s.a.createElement("div",{className:"navbar-item margin-right"},s.a.createElement("div",{className:"buttons"},s.a.createElement(c.b,{className:"button is-light",to:{pathname:"/about",state:{token:this.state.token,name:this.state.name}}},"?"))))))):s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar is-black",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"navbar-brand"}),s.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},s.a.createElement("div",{className:"navbar-end"},s.a.createElement(c.b,{className:"navbar-item",to:"/login"},s.a.createElement("h1",null,"Login")),s.a.createElement(c.b,{className:"navbar-item",to:"/register"},s.a.createElement("h1",null,"Register")),s.a.createElement(c.b,{className:"navbar-item",to:"/login"},s.a.createElement("h1",{className:"logo-type"},"Sharing")),s.a.createElement("div",{className:"navbar-item"},s.a.createElement("div",{className:"buttons"},s.a.createElement(c.b,{className:"button is-light",to:{pathname:"/about",state:{token:this.state.token,name:this.state.name}}},"?")))))))}}]),a}(s.a.Component),f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={token:"",name:"",detail:""},n.onChange=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(h.a)({},a,s))},n.onSubmit=function(e){e.preventDefault();var t={detail:n.state.detail};g.a.post("https://project-207.herokuapp.com/transactions",t,{headers:{Authorization:"Bearer ".concat(n.state.token)}}).then((function(e){return n.setState({detail:""}),s.a.createElement(i.a,{to:{pathname:"/",state:{res:e}}})})).catch((function(){alert(".:Connot share. Please try again:.")}))},e&&(n.state={token:e.token,name:e.name}),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{className:"margin-top"},s.a.createElement("div",{className:"card margin-lr margin-top  has-background-light"},s.a.createElement("header",{className:"card-header"},s.a.createElement("p",{className:"card-header-title"},"@",this.state.name)),s.a.createElement("div",{className:"card-content"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("textarea",{className:"textarea is-light",name:"detail",value:this.state.detail,placeholder:"Write something...",onChange:this.onChange})))),s.a.createElement("footer",{className:"card-footer "},s.a.createElement("form",{className:"field",onSubmit:this.onSubmit},s.a.createElement("p",{className:"control margin-button"},s.a.createElement("button",{className:"button is-link"},"Share"))))))}}]),a}(s.a.Component),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:"",token:"",name:"",sharing:[]},e.location.state&&(n.state={id:n.props.location.state.id,token:n.props.location.state.token,name:n.props.location.state.name}),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://project-207.herokuapp.com/users/me",{headers:{Authorization:"Bearer ".concat(this.state.token)}}).catch((function(){alert(".:Your session is about expire:."),e.setState({token:"",name:""})})),g.a.get("https://project-207.herokuapp.com/transactions",{headers:{Authorization:"Bearer ".concat(this.state.token)}}).then((function(t){e.setState({sharing:t.data})})).catch((function(){alert(".:Connot get data:.")}))}},{key:"componentWillUpdate",value:function(){var e=this;g.a.get("https://project-207.herokuapp.com/transactions",{headers:{Authorization:"Bearer ".concat(this.state.token)}}).then((function(t){e.setState({sharing:t.data})})).catch((function(){alert(".:Connot get data:.")}))}},{key:"render",value:function(){var e=this;return this.state.token?this.state.sharing?s.a.createElement("div",null,s.a.createElement(b,{token:this.state.token,name:this.state.name}),s.a.createElement(f,{token:this.state.token,name:this.state.name}),this.state.sharing.map((function(t){return s.a.createElement(v,{key:t._id,_uid:e.state.id,sharing:t,token:e.state.token})}))):s.a.createElement("div",null,s.a.createElement(b,{token:this.state.token,name:this.state.name}),"Please share new one."):s.a.createElement("div",null,s.a.createElement(i.a,{to:"/login"}))}}]),a}(s.a.Component),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),n=t.call(this,e),e.location.state&&(n.state={token:n.props.location.state.token,name:n.props.location.state.name}),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(b,{token:this.state.token,name:this.state.name}),s.a.createElement("div",{className:"card margin-lr"},s.a.createElement("div",{className:"card-content margin-top"},s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement("figure",{className:"image is-48x48"},s.a.createElement("img",{src:"/207_project/tao_profile.jpg",alt:"."}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",{className:"title is-4"},"Ronnachai Muangkham"),s.a.createElement("p",{className:"subtitle is-6"},"@taormtwelve"))),s.a.createElement("div",{className:"content"},"610610608 ",s.a.createElement(c.b,{href:"#"}," #Backend_Developer"),s.a.createElement("br",null),"A computer engineering student in Chiangmai university."))),s.a.createElement("div",{className:"card margin-lr"},s.a.createElement("div",{className:"card-content margin-top"},s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement("figure",{className:"image is-48x48"},s.a.createElement("img",{src:"/207_project/speed_profile.jpg",alt:"."}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",{className:"title is-4"},"Rungrod Thongjampa"),s.a.createElement("p",{className:"subtitle is-6"},"@deepdurgnur"))),s.a.createElement("div",{className:"content"},"610610609 ",s.a.createElement(c.b,{href:"#"}," #Frontend_Developer"),s.a.createElement("br",null),"A computer engineering student in Chiangmai university."))))}}]),a}(s.a.Component),C=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:"",token:"",name:"",email:"",password:""},n.onChange=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(h.a)({},a,s))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,s=t.password;g.a.post("https://project-207.herokuapp.com/users/login",{email:a,password:s}).then((function(e){n.setState({id:e.data.id,token:e.data.token,name:e.data.name,email:"",password:""})})).catch((function(){alert(".:email or password inccorrect:."),n.setState({email:"",password:""})}))},e.location.state&&(n.state={token:e.location.state.token,name:"",email:"",password:""}),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.state.token?s.a.createElement("div",null,s.a.createElement(i.a,{to:{pathname:"/",state:{id:this.state.id,token:this.state.token,name:this.state.name}}})):s.a.createElement("div",null,s.a.createElement(b,null),s.a.createElement("form",{className:"center-page",onSubmit:this.onSubmit},s.a.createElement("h1",{className:"title"},"Login"),s.a.createElement("div",{className:"field margin-login"},s.a.createElement("p",{className:"control has-icons-left has-icons-right"},s.a.createElement("input",{className:"input",type:"email",name:"email",value:this.state.email,placeholder:"Email",onChange:this.onChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})))),s.a.createElement("div",{className:"field margin-login"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",name:"password",value:this.state.password,placeholder:"Password",onChange:this.onChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control margin-login"},s.a.createElement("button",{to:"/",className:"button is-dark space"},"Login"),s.a.createElement(c.b,{to:"/register",className:"button is-light space"},"Register")))))}}]),a}(s.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={id:"",token:"",name:"",email:"",password:""},n.onChange=function(e){var t=e.target,a=t.name,s=t.value;n.setState(Object(h.a)({},a,s))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.name,s=t.email,r=t.password;g.a.post("https://project-207.herokuapp.com/users",{name:a,email:s,password:r}).then((function(e){n.setState({id:e.data.id,token:e.data.token,name:e.data.name})})).catch((function(){return alert(".:name or email already exists:.")}))},n.state={id:"",token:"",name:"",email:"",password:""},n}return Object(m.a)(a,[{key:"render",value:function(){return this.state.token?s.a.createElement("div",null,s.a.createElement(i.a,{to:{pathname:"/",state:{id:this.state.id,token:this.state.token,name:this.state.name}}})):s.a.createElement("div",null,s.a.createElement(b,null),s.a.createElement("form",{className:"center-register",onSubmit:this.onSubmit},s.a.createElement("h1",{className:"title"},"Register"),s.a.createElement("div",{className:"field margin-login"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"email",name:"email",placeholder:"Email",onChange:this.onChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-envelope"})))),s.a.createElement("div",{className:"field margin-login"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"text",name:"name",placeholder:"Username",onChange:this.onChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-at"})))),s.a.createElement("div",{className:"field margin-login"},s.a.createElement("p",{className:"control has-icons-left"},s.a.createElement("input",{className:"input",type:"password",name:"password",placeholder:"Password",onChange:this.onChange}),s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})))),s.a.createElement("div",{className:"field"},s.a.createElement("p",{className:"control margin-login"},s.a.createElement("button",{className:"button is-dark space"},"Register"),s.a.createElement("button",{className:"button is-light space"},"Login")))))}}]),a}(s.a.Component);function w(){return s.a.createElement(c.a,null,s.a.createElement("div",null,s.a.createElement(i.b,{exact:!0,path:"/",component:N}),s.a.createElement(i.b,{path:"/register",component:j}),s.a.createElement(i.b,{path:"/login",component:C}),s.a.createElement(i.b,{path:"/about",component:k})))}o.a.render(s.a.createElement(w,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.164eb177.chunk.js.map